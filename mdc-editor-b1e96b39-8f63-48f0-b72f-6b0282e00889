# Проєкт: Інтернет-магазин одягу

Ми створюємо адаптивний інтернет-магазин одягу на Django з фронтендом на HTML/CSS/JS. Увесь стиль проєкту строго базується на `stylerules.mdc`, а логіка та патерни — на `myrules.mdc`.

---

# Основні правила

- Використовуються лише стилі з `stylerules.mdc` (кольори, кнопки, картки, тіні, адаптивність, шрифти).
- Весь код має бути написаний як у senior-розробника: зрозуміло, структуровано, з коментарями.
- Кожен HTML/CSS/JS елемент має бути адаптивним (телефон, планшет, десктоп).
- JS повинен використовувати сучасні фреймворки/бібліотеки для анімацій: GSAP, Framer Motion, Locomotive Scroll, Lenis.
- Не можна вигадувати нові стилі — тільки через базові класи або через додавання в `stylerules.mdc`.

---

# memory.push

Кожна команда `memory.push` створює новий запис тут (у memory.mdc). Перед кожною відповіддю цей файл має бути перечитаний та врахований. Якщо логіка змінюється — старий запис переписується.

---

# add.security

Після команди `add.security`:
1. Провести повний аудит коду (XSS, CSRF, SQLi, SSRF, Directory Traversal, Auth Bypass тощо).
2. Описати знайдені вразливості.
3. Автоматично впровадити найкращі практики безпеки: CSRF-захист, input sanitation, secure headers, HTTPS only, CSP, обмеження доступу, secure cookies, throttling.

---

# Структура проєкту

- `shop/` — головний додаток
- `views/`, `services/`, `utils/`, `forms.py`, `models.py`, `constants.py`
- `templates/shop/` — поділено на:
  - `includes/` (header, footer, карточки)
  - `products/`, `reviews/`, `contact/`, `catalog/`, `availability/` # Додано availability
- `static/`:
  - `shop/` — стилі, скрипти, зображення для магазину
  - `shared/` — глобальні стилі, шрифти (з `stylerules.mdc`)
- `media/` — завантаження фото користувачів
- Всі шаблони базуються на `base.html`

---

# Ключові функції сайту

- Каталог товарів (з фільтрами: сезон, стать, тип, ціна)
- Список товарів у наявності.
- Карточки з переворотом + кнопки "зв'язатися", "схожі товари"
- Відгуки з фото доставлених товарів
- Контакти, Telegram-інтеграція
- UX-дружній адаптивний дизайн

---

# UI обовʼязки

- Тільки ті кольори й шрифти, що в `stylerules.mdc`
- Компоненти: `.btn-primary`, `.product-card`, `.container`, `.shadow-sm` тощо
- Усі стилі централізовані

# Поточний стан проєкту: Інтернет-магазин одягу (станом на 13 квітня - вечір)

*   **Структура:**
    *   Додано директорію `shop/templates/shop/availability/`.
*   **URL-и (`shop/urls.py`):**
    *   Головна сторінка (`/`, `name='home'`) відображає список товарів (`product_list_view`).
    *   Додано шлях `/availability/` (`name='availability'`).
    *   Виправлено ім'я для шляху відгуків (`name='reviews'`).
    *   Поточні робочі URL: `/`, `/product/<id>/`, `/catalog/`, `/availability/`, `/reviews/`, `/contact/`, `/about-us/`.
*   **Views (`shop/views/*.py`):**
    *   Додано функцію `availability_view` у `shop/views/products.py`, яка рендерить `availability.html` (поки що з тестовими даними).
    *   Проведено рефакторинг: додано type hints та оновлено docstrings для більшості view-функцій.
    *   `add_review_view` закоментовано.
*   **Імпорти (`shop/views/__init__.py`):**
    *   Додано імпорт та експорт (`__all__`) для `availability_view`.
    *   Видалено закоментовані/непотрібні імпорти.
*   **Шаблони:**
    *   Створено `shop/templates/shop/availability/availability.html`: успадковує `base.html`, використовує `.products-section`, `.product-grid` та включає `product_card.html`, передаючи клас кольору через `card_color_class`.
    *   `shop/templates/shop/includes/header.html`:
        *   Додано пункт меню "Наявність".
        *   Видалено пункт "Головна".
        *   Виправлено порядок пунктів: Про нас, Каталог, Наявність, Контакти, Відгуки.
    *   `shop/templates/shop/about_us.html`:
        *   Додано підзаголовок `.section-subtitle` з текстом про 7 років роботи.
    *   Виправлено синтаксис тегу `include` в `availability.html`.
*   **Стилі (`shop/static/shop/styles.css`):**
    *   Виправлено помилки лінтера та синтаксичні помилки.
    *   Виправлено адаптивність сторінки "Про нас" (мобільні стилі в медіа-запиті).
    *   Додано відступ знизу для `.category-grid`.
    *   Додано специфічні правила з `!important` для `.section-subtitle` на сторінці "Про нас" для гарантії видимості.
    *   Тимчасово закоментовано стилі для `.section-subtitle::after` (миготливий курсор) для діагностики проблем з видимістю підзаголовка "Про нас".
*   **Скрипти (`shop/static/shop/script.js`):**
    *   Без значних змін.
*   **Правила:** Проєкт розробляється згідно з `stylerules.mdc`, `myrules.mdc`, `memory.mdc`.

**Наступні кроки (потенційні):**
*   Розкоментувати стилі `.section-subtitle::after` та перевірити, чи вирішилася проблема з підзаголовком "Про нас".
*   Наповнення сторінки каталогу (фільтри, сітка товарів).
*   Реальні моделі товарів (`models.py`).
*   Детальна сторінка товару.
*   Сторінка відгуків (`reviews.html`).
*   Форма для додавання відгуків. 